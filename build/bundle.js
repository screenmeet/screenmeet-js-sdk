(()=>{var e={435:e=>{var t=1e3,n=60*t,r=60*n,o=24*r;function i(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===c&&isFinite(e))return s.long?(a=e,(u=Math.abs(a))>=o?i(a,u,o,"day"):u>=r?i(a,u,r,"hour"):u>=n?i(a,u,n,"minute"):u>=t?i(a,u,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=r?Math.round(e/r)+"h":i>=n?Math.round(e/n)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},227:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(447)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},447:(e,t,n)=>{e.exports=function(e){function t(e){let n,o=null;function i(...e){if(!i.enabled)return;const r=i,o=Number(new Date),s=o-(n||o);r.diff=s,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];n=i.call(r,t),e.splice(a,1),a--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=r,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(i),i}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(435),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,s,c;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return h(this,e,!0)},i.prototype.rawListeners=function(e){return h(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},16:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",f="[object Map]",h="[object Number]",d="[object Object]",p="[object Promise]",v="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",m="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,j=/^\./,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,k=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[i]=x[s]=x[w]=x[a]=x[_]=x[u]=x[c]=x[l]=x[f]=x[h]=x[d]=x[v]=x[y]=x[g]=x[m]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,I="object"==typeof self&&self&&self.Object===Object&&self,L=E||I||Function("return this")(),M=t&&!t.nodeType&&t,P=M&&e&&!e.nodeType&&e,U=P&&P.exports===M&&E.process,R=function(){try{return U&&U.binding("util")}catch(e){}}(),D=R&&R.isTypedArray;function T(e,t,n,r){for(var o=-1,i=e?e.length:0;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function G(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function N(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var $,B,H,z=Array.prototype,J=Function.prototype,q=Object.prototype,V=L["__core-js_shared__"],Z=($=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",Y=J.toString,Q=q.hasOwnProperty,X=q.toString,ee=RegExp("^"+Y.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=L.Symbol,ne=L.Uint8Array,re=q.propertyIsEnumerable,oe=z.splice,ie=(B=Object.keys,H=Object,function(e){return B(H(e))}),se=Re(L,"DataView"),ae=Re(L,"Map"),ue=Re(L,"Promise"),ce=Re(L,"Set"),le=Re(L,"WeakMap"),fe=Re(Object,"create"),he=Be(se),de=Be(ae),pe=Be(ue),ve=Be(ce),ye=Be(le),ge=te?te.prototype:void 0,be=ge?ge.valueOf:void 0,me=ge?ge.toString:void 0;function we(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.__data__=new Ce;++t<n;)this.add(e[t])}function je(e){this.__data__=new _e(e)}function Fe(e,t){for(var n=e.length;n--;)if(qe(e[n][0],t))return n;return-1}function Ae(e,t,n,r){return Oe(e,(function(e,o,i){t(r,e,n(e),i)})),r}we.prototype.clear=function(){this.__data__=fe?fe(null):{}},we.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},we.prototype.get=function(e){var t=this.__data__;if(fe){var n=t[e];return n===r?void 0:n}return Q.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:Q.call(t,e)},we.prototype.set=function(e,t){return this.__data__[e]=fe&&void 0===t?r:t,this},_e.prototype.clear=function(){this.__data__=[]},_e.prototype.delete=function(e){var t=this.__data__,n=Fe(t,e);return!(n<0||(n==t.length-1?t.pop():oe.call(t,n,1),0))},_e.prototype.get=function(e){var t=this.__data__,n=Fe(t,e);return n<0?void 0:t[n][1]},_e.prototype.has=function(e){return Fe(this.__data__,e)>-1},_e.prototype.set=function(e,t){var n=this.__data__,r=Fe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new we,map:new(ae||_e),string:new we}},Ce.prototype.delete=function(e){return Ue(this,e).delete(e)},Ce.prototype.get=function(e){return Ue(this,e).get(e)},Ce.prototype.has=function(e){return Ue(this,e).has(e)},Ce.prototype.set=function(e,t){return Ue(this,e).set(e,t),this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,r),this},Se.prototype.has=function(e){return this.__data__.has(e)},je.prototype.clear=function(){this.__data__=new _e},je.prototype.delete=function(e){return this.__data__.delete(e)},je.prototype.get=function(e){return this.__data__.get(e)},je.prototype.has=function(e){return this.__data__.has(e)},je.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var r=n.__data__;if(!ae||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ce(r)}return n.set(e,t),this};var ke,Oe=(ke=function(e,t){return e&&xe(e,t,ot)},function(e,t){if(null==e)return e;if(!Ye(e))return ke(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e}),xe=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),s=i.length;s--;){var a=i[++r];if(!1===t(o[a],a,o))break}return e};function Ee(e,t){for(var n=0,r=(t=Ge(t,e)?[t]:Me(t)).length;null!=e&&n<r;)e=e[$e(t[n++])];return n&&n==r?e:void 0}function Ie(e,t){return null!=e&&t in Object(e)}function Le(e,t,n,r,o){return e===t||(null==e||null==t||!et(e)&&!tt(t)?e!=e&&t!=t:function(e,t,n,r,o,l){var p=Ze(e),m=Ze(t),C=s,S=s;p||(C=(C=De(e))==i?d:C),m||(S=(S=De(t))==i?d:S);var j=C==d&&!W(e),F=S==d&&!W(t),A=C==S;if(A&&!j)return l||(l=new je),p||rt(e)?Pe(e,t,n,r,o,l):function(e,t,n,r,o,i,s){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!r(new ne(e),new ne(t)));case a:case u:case h:return qe(+e,+t);case c:return e.name==t.name&&e.message==t.message;case v:case g:return e==t+"";case f:var l=N;case y:var d=2&i;if(l||(l=K),e.size!=t.size&&!d)return!1;var p=s.get(e);if(p)return p==t;i|=1,s.set(e,t);var m=Pe(l(e),l(t),r,o,i,s);return s.delete(e),m;case b:if(be)return be.call(e)==be.call(t)}return!1}(e,t,C,n,r,o,l);if(!(2&o)){var k=j&&Q.call(e,"__wrapped__"),O=F&&Q.call(t,"__wrapped__");if(k||O){var x=k?e.value():e,E=O?t.value():t;return l||(l=new je),n(x,E,r,o,l)}}return!!A&&(l||(l=new je),function(e,t,n,r,o,i){var s=2&o,a=ot(e),u=a.length;if(u!=ot(t).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in t:Q.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var h=!0;i.set(e,t),i.set(t,e);for(var d=s;++c<u;){var p=e[l=a[c]],v=t[l];if(r)var y=s?r(v,p,l,t,e,i):r(p,v,l,e,t,i);if(!(void 0===y?p===v||n(p,v,r,o,i):y)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,o,l))}(e,t,Le,n,r,o))}function Me(e){return Ze(e)?e:Ke(e)}function Pe(e,t,n,r,o,i){var s=2&o,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,h=1&o?new Se:void 0;for(i.set(e,t),i.set(t,e);++l<a;){var d=e[l],p=t[l];if(r)var v=s?r(p,d,l,t,e,i):r(d,p,l,e,t,i);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!G(t,(function(e,t){if(!h.has(t)&&(d===e||n(d,e,r,o,i)))return h.add(t)}))){f=!1;break}}else if(d!==p&&!n(d,p,r,o,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function Ue(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!et(e)||function(e){return!!Z&&Z in e}(e))&&(Qe(e)||W(e)?ee:k).test(Be(e))}(n)?n:void 0}var De=function(e){return X.call(e)};function Te(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e,t){if(Ze(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!nt(e))||S.test(e)||!C.test(e)||null!=t&&e in Object(t)}function We(e){return e==e&&!et(e)}function Ne(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}(se&&De(new se(new ArrayBuffer(1)))!=_||ae&&De(new ae)!=f||ue&&De(ue.resolve())!=p||ce&&De(new ce)!=y||le&&De(new le)!=m)&&(De=function(e){var t=X.call(e),n=t==d?e.constructor:void 0,r=n?Be(n):void 0;if(r)switch(r){case he:return _;case de:return f;case pe:return p;case ve:return y;case ye:return m}return t});var Ke=Je((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(nt(e))return me?me.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return j.test(e)&&n.push(""),e.replace(F,(function(e,t,r,o){n.push(r?o.replace(A,"$1"):t||e)})),n}));function $e(e){if("string"==typeof e||nt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Be(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var He,ze=(He=function(e,t,n){e[n]=t},function(e,t){var n,r,o,i,s,a={};return(Ze(e)?T:Ae)(e,He,"function"==typeof(n=t)?n:null==n?it:"object"==typeof n?Ze(n)?function(e,t){return Ge(e)&&We(t)?Ne($e(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:Ee(e,t);return void 0===r?void 0:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){for(var r,o=-1,i=(t=Ge(t,e)?[t]:Me(t)).length;++o<i;){var s=$e(t[o]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}return r||!!(i=e?e.length:0)&&Xe(i)&&Te(s,i)&&(Ze(e)||Ve(e))}(e,t,Ie)}(n,e):Le(t,r,void 0,3)}}(n[0],n[1]):1==(o=function(e){for(var t=ot(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,We(o)]}return t}(r=n)).length&&o[0][2]?Ne(o[0][0],o[0][1]):function(e){return e===r||function(e,t,n,r){var o=n.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var a=(s=n[o])[0],u=e[a],c=s[1];if(s[2]){if(void 0===u&&!(a in e))return!1}else{var l,f=new je;if(!(void 0===l?Le(c,u,r,3,f):l))return!1}}return!0}(e,0,o)}:Ge(i=n)?(s=$e(i),function(e){return null==e?void 0:e[s]}):function(e){return function(t){return Ee(t,e)}}(i),a)});function Je(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s),s};return n.cache=new(Je.Cache||Ce),n}function qe(e,t){return e===t||e!=e&&t!=t}function Ve(e){return function(e){return tt(e)&&Ye(e)}(e)&&Q.call(e,"callee")&&(!re.call(e,"callee")||X.call(e)==i)}Je.Cache=Ce;var Ze=Array.isArray;function Ye(e){return null!=e&&Xe(e.length)&&!Qe(e)}function Qe(e){var t=et(e)?X.call(e):"";return t==l||"[object GeneratorFunction]"==t}function Xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function et(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function tt(e){return!!e&&"object"==typeof e}function nt(e){return"symbol"==typeof e||tt(e)&&X.call(e)==b}var rt=D?function(e){return function(t){return e(t)}}(D):function(e){return tt(e)&&Xe(e.length)&&!!x[X.call(e)]};function ot(e){return Ye(e)?function(e,t){var n=Ze(e)||Ve(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!Q.call(e,i)||o&&("length"==i||Te(i,r))||n.push(i);return n}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||q))return ie(e);var t,n,r=[];for(var o in Object(e))Q.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e)}function it(e){return e}e.exports=ze},300:(e,t)=>{"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(n);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var l,f,h,d,p=e[c].replace(s,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),t(i,h)?Array.isArray(i[h])?i[h].push(d):i[h]=[i[h],d]:i[h]=d}return i}},361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[o]))})).filter(Boolean).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},673:(e,t,n)=>{"use strict";t.decode=t.parse=n(587),t.encode=t.stringify=n(361)},607:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},u=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Global=void 0;var c=n(187),l=n(608),f=n(227)("ScreenMeet:Global"),h=function(e){function t(t){var n=e.call(this)||this;return n.isAuthenticated=!1,n.instances={},n.lastDiscoveryState={},n.discoveryIntervalMs=15e3,n.discoveryInterval=null,n.userDataKey="screenmeetuser",n.signin=function(e,t,r){f("Attempting to log in [provider: "+e+" cb: "+t+" instance:"+r);var o=n.getAuthUrl(e,t,r);return n.loginFail&&(n.loginFail(new Error("Restarted login process")),n.loginFail=null),n.loginWindow&&clearInterval(n.windowWatcher),n.loginWindow=window.open(o,"sm_oauth","width=500,height=700"),n.windowWatcher=setInterval((function(){n.loginWindow.closed&&(clearInterval(n.windowWatcher),n.loginFail&&n.loginFail(new Error("Window was closed before completing auth process")))}),1e3),n.loginPromise=new Promise((function(t,o){n.loginFail=o,window._sm_oauth_cb=function(a){return i(n,void 0,void 0,(function(){var n,i;return s(this,(function(s){switch(s.label){case 0:return clearInterval(this.windowWatcher),this.loginFail=null,n=localStorage.getItem("smLoginToken"),a.login_intent_token!==n?(o(new Error("Login intent token does not match "+n+" : "+a.login_intent_token)),[2]):[4,this.api.authWithOauthCode(e,a.code,r)];case 1:return i=s.sent(),f("Received login user data"),this.me=i,this.onAuthenticated(),this.loginWindow.close(),t(i),[2]}}))}))}})),n.loginPromise},n.getAuthUrl=function(e,t,r){return n.api.getBaseUrl()+"/auth/"+e+"/goToAuth?instance_url="+encodeURIComponent(r)+"&receiver_url="+encodeURIComponent(t+"?")+encodeURIComponent("&login_intent_token")+"="+n.getIntentToken()},n.getIntentToken=function(e){if(void 0===e&&(e=32),"undefined"==typeof window)return"";var t;t=new Uint8Array(e),window.crypto.getRandomValues(t);var n=window.btoa(String.fromCharCode.apply(String,u([],a(t)))).replace(/[\W]/g,"");return window.localStorage.setItem("smLoginToken",n),n},n.pollSessionDiscovery=function(){return i(n,void 0,void 0,(function(){var e,t,n,r,o,i,c;return s(this,(function(s){switch(s.label){case 0:for(t in f("[pollSessionDiscovery] Starting to poll for session state changes"),e=[],this.instances)n=this.instances[t].trackedSessionIdList,e=e.concat(n);return r=new Set(e),(o=u([],a(r))).length?(f("[pollSessionDiscovery] polling "+o.length+" sessions for activity "+o.join(",")),[4,this.api.pollDiscoveryState(o)]):(f("[pollSessionDiscovery] no sessions to track"),[2]);case 1:for(c in i=s.sent())this.lastDiscoveryState[c]||this.emit("discovery",c,!0);for(c in this.lastDiscoveryState)i[c]||this.emit("discovery",c,!1);return this.lastDiscoveryState=i,[2]}}))}))},n.api=new l.ScreenMeetAPI,n.options=t,n.options.api_endpoint&&n.api.setBaseUrl(n.options.api_endpoint),n.options.persistAuth&&n.restoreMe(),n}return o(t,e),t.prototype.signout=function(){this.emit("signout"),this.api.signout(),this.clearUserData(),clearInterval(this.discoveryInterval)},t.prototype.restoreMe=function(){f("attempting to restore user session");var e=localStorage.getItem(this.userDataKey);if(e){if(f("found user data in key "+this.userDataKey),this.me=JSON.parse(e),!this.me)return void this.clearUserData();this.onAuthenticated(),f("restored user data",this.me)}else f("no stored user session found")},t.prototype.clearUserData=function(){this.emit("signout"),this.isAuthenticated=!1,this.me=null,this.api.setKey(null),localStorage.removeItem(this.userDataKey),f("User data cleared")},t.prototype.updateSessionExpireTime=function(){this.me&&(this.sessionExpiresAfter=new Date(this.me.session.expiresAt),this.sessionExpiresAfter.getTime()<Date.now()&&(f("User session has expired"),this.clearUserData()))},t.prototype.onAuthenticated=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this.api.setKey(this.me.session.id),this.updateSessionExpireTime(),this.isAuthenticated?(f("User ["+this.me.user.name+" "+this.me.user.externalId+"] authenticated. Session expiration:"+this.sessionExpiresAfter),this.options.persistAuth&&this.rememberMe(),e=[this.loadEndpointConfig()],this.options.cbdeployments&&e.push(this.loadCobrowseDeployments()),[4,Promise.all(e)]):[2];case 1:return t.sent(),this.discoveryInterval=setInterval(this.pollSessionDiscovery,this.discoveryIntervalMs),this.isAuthenticated=!0,this.emit("authenticated",this.me),[2]}}))}))},t.prototype.rememberMe=function(){var e=JSON.stringify(this.me);f("Storing user session JSON in key "+this.userDataKey+":",this.me),localStorage.setItem(this.userDataKey,e)},t.prototype.loadEndpointConfig=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=this,[4,this.api.getEndpointsConfig(this.me.org.id)];case 1:return e.endpoints=t.sent(),[2]}}))}))},t.prototype.loadCobrowseDeployments=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=this,[4,this.api.getCobrowseDeployments(this.me.org.id)];case 1:return e.cbdeployments=t.sent(),[2]}}))}))},t.prototype.registerForPolling=function(e){this.instances[e.instance_id]=e,f("[Global] Registered widget instance "+e.instance_id)},t.prototype.unregisterFromPolling=function(e){delete this.instances[e.instance_id],f("[Global] UnRegistered widget instance "+e.instance_id)},t}(c.EventEmitter);t.Global=h},611:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenMeet=void 0;var a=n(608),u=n(187),c=n(607),l=n(227).default("ScreenMeet:main"),f=n(16),h={knock:"Knock to join session",record:"Record session",audio:"Audio Enabled",prerequestrc:"Start with Remote Control",prerequestadmin:"Start with Admin"},d=function(e){function t(t){void 0===t&&(t={mode:"adhoc"});var n=e.call(this)||this;if(n.destroyed=!1,n.instance_id=Math.random().toString(36).substr(2,5),n.trackedSessions={},n.trackedSessionIdList=[],n.signin=function(e,t,n){return window.SMGlobal.signin(e,t,n)},n.onAuthenticated=function(e){n.emit("authenticated",e)},n.onSignout=function(){l("emitting signout at local instance"),n.emit("signout")},n.signout=function(){n.global.signout()},n.isAuthenticated=function(){return n.global.isAuthenticated&&!n.destroyed},n.createAdhocSession=function(e,t,r,o){return void 0===r&&(r={}),i(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:if(!this.isAuthenticated())throw new Error("User must be authenticated to create new sessions.");if("adhoc"!==this.options.mode)throw new Error("Cannot create an adhoc session while in "+this.options.mode+" mode");return n={userDescription:o||this.global.me.user.name,agentPrefs:r,type:e,label:t},[4,this.api.createSession(n)];case 1:return[2,i.sent()]}}))}))},n.createRelatedSession=function(e,t,r,o,a,u){return void 0===r&&(r={}),i(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:if(!this.isAuthenticated())throw new Error("User must be authenticated to create new sessions.");if("object"!==this.options.mode)throw new Error("Cannot create a related session while in "+this.options.mode+" mode");return n={userDescription:u||this.global.me.user.name,agentPrefs:r,type:e,label:t,externalMapping:a,parentObject:o},[4,this.api.createSession(n)];case 1:return[2,i.sent()]}}))}))},n.listUserSessions=function(e){return i(n,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:if("adhoc"!==this.options.mode)throw new Error("Cannot list user sessions while in "+this.options.mode+" mode");return[4,this.api.listUserSessions(e)];case 1:return t=n.sent(),this.options.trackSessionState&&this.updateTrackedSessionList(t.rows),[2,t]}}))}))},n.listRelatedObjectSessions=function(e){return i(n,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:if("object"!==this.options.mode)throw new Error("Cannot list related sessions while in "+this.options.mode+" mode");return[4,this.api.listRelatedObjectSessions(e)];case 1:return t=n.sent(),this.options.trackSessionState&&this.updateTrackedSessionList(t),[2,t]}}))}))},n.updateTrackedSessionList=function(e){var t=f(e,"id");n.trackedSessions=t,n.trackedSessionIdList=Object.keys(n.trackedSessions),n.emit("updated",n.trackedSessions),l("Updated tracked sessions. Current list:",n.trackedSessions,"idlist",n.trackedSessionIdList)},n.onDiscovery=function(e,t){return i(n,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return this.trackedSessions[e]&&("active"!==this.trackedSessions[e].status&&t||"active"===this.trackedSessions[e].status&&!t)?[4,this.api.getSession(e)]:[3,2];case 1:"active"===(n=r.sent()).status?this.trackedSessions[e]=n:"closed"===n.status&&delete this.trackedSessions[e],l("Session ["+e+"] status changed to: "+n.status),this.emit("sessionstatechanged",n),this.emit("updated",this.trackedSessions),r.label=2;case 2:return[2]}}))}))},n.options=t,window.SMGlobal?l("Creating SM Global singleton already initialized"):(l("Creating SM Global singleton"),window.SMGlobal=new c.Global(n.options)),n.global=window.SMGlobal,n.api=n.global.api,n.global.on("authenticated",n.onAuthenticated),n.global.on("signout",n.onSignout),n.global.on("discovery",n.onDiscovery),l("Constructing new widget "+n.instance_id+" - global auth is: "+n.global.isAuthenticated),t&&t.eventHandlers)for(var r in t.eventHandlers)l("Binding handler "+r+" from constructor options eventHandlers"),n.on(r,t.eventHandlers[r]);return n.options.trackSessionState&&n.global.registerForPolling(n),n.global.isAuthenticated&&n.onAuthenticated(n.global.me),n}return o(t,e),t.prototype.closeSession=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:if(!this.isAuthenticated())throw new Error("User must be authenticated to close sessions.");return[4,this.api.closeSession(e)];case 1:return t.sent(),[2]}}))}))},t.prototype.getUrls=function(e){if(!this.global.endpoints)throw new Error("Cannot create ScreenMeet URLs before endpoint config is loaded");var t=this.global.endpoints.widgetConfig;switch(e.type){case"support":return{invite:""+t.activation_base_url+e.pin,host:t.viewer_base_url+"?"+e.id+"#token="+encodeURIComponent(this.global.me.session.id),vanity:""+t.vanity_url};case"cobrowse":var n={host:t.viewer_base_url+"?"+e.id+"#token="+encodeURIComponent(this.global.me.session.id)};if(this.options.cbdeployments){var r=this.global.cbdeployments;if(r[0]&&r[0].entrypoint&&(n.invite="https://"+r[0].entrypoint+"#cobrowse_pin="+e.pin),r.length>1){n.allcbdeployments=[];for(var o=0;o<r.length;o++)r[o].entrypoint&&n.allcbdeployments.push("https://"+r[o].entrypoint+"#cobrowse_pin="+e.pin)}}return n;case"live":return{invite:t.live_url+"?"+e.id,host:t.live_url+"?"+e.id+"#token="+encodeURIComponent(this.global.me.session.id),vanity:""+t.vanity_url};case"replay":return{invite:""+t.replay_url+e.id}}},t.prototype.getSessionPrefOptions=function(e){var t=this.global.me.products[e];if(t){var n=[];for(var r in t)t[r]&&n.push({name:r,label:h[r]});return n}return[]},t.prototype.destroy=function(){this.emit("destroyed"),this.global.off("authenticated",this.onAuthenticated),this.global.off("signout",this.onSignout),this.global.off("discovery",this.onDiscovery),this.removeAllListeners(),this.trackedSessions={},this.global.unregisterFromPolling(this),this.destroyed=!0},t}(u.EventEmitter);t.ScreenMeet=d,window.ScreenMeet=d,t.default=d,e.exports={ScreenMeet:d,ScreenMeetAPI:a.ScreenMeetAPI}},608:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenMeetAPI=void 0;var i=n(300),s=n(282),a=n(673),u=function(e){var t=this;void 0===e&&(e=""),this.key="",this.endpoint="https://api-v3.screenmeet.com/v3",this.setKey=function(e){t.key=e},this.me=function(){return r(t,void 0,void 0,(function(){return o(this,(function(e){return[2,this.get("/me")]}))}))},this.signout=function(){return r(t,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.get("/auth/signout")];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return this.key="",[2,e]}}))}))},this.createSession=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return e.parentObject&&!e.parentObject.provider&&(e.parentObject.provider="webwidget"),[4,this.post("/supportsessions",e)];case 1:return[2,t.sent()]}}))}))},this.listUserSessions=function(e){return void 0===e&&(e={limit:20,orderdir:"DESC",orderby:"createdAt",offset:0}),r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.get("/supportsessions",e)];case 1:return[2,t.sent()]}}))}))},this.listRelatedObjectSessions=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){return[2,this.get("/crmlookup/"+e)]}))}))},this.closeSession=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.delete("/supportsession/"+e,{})];case 1:return[2,t.sent()]}}))}))},this.getSession=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.get("/supportsession/"+e,{})];case 1:return[2,t.sent()]}}))}))},this.getCobrowseDeployments=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.get("/organization/"+e+"/cobrowsedeployments")];case 1:return[2,t.sent()]}}))}))},this.getEndpointsConfig=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.get("/organization/"+e+"/remotewidgetconfig")];case 1:return[2,t.sent()]}}))}))},this.authWithOauthCode=function(e,n,r,o){var i={code:n,instance_url:void 0,state:void 0};return r&&(i.instance_url=r),o&&(i.state=o),t.get("/auth/"+e+"/exchangeCode",i)},this.authWithToken=function(e,n){return r(t,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return t={session_token:n},[4,this.post("/auth/"+e+"/authWithToken",t)];case 1:return[2,r.sent()]}}))}))},this.getConfiguration=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.get("/configuration/"+e)];case 1:return[2,t.sent()]}}))}))},this.getBaseUrl=function(){return t.endpoint},this.setBaseUrl=function(e){t.endpoint=e},this.pollDiscoveryState=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.get("/discovery",{ids:e.join(",")})];case 1:return[2,t.sent()]}}))}))},this.getDefaultHeaders=function(){return{"Content-Type":"application/json","Session-id":t.key,"client-app":"screenmeet-js-sdk"}},this.delete=function(e,n){return r(t,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t={body:JSON.stringify(n),method:"DELETE",url:this.getBaseUrl()+e,headers:this.getDefaultHeaders()},[4,i.default(t.url,t)];case 1:return r=o.sent(),[4,this.parseResponse(r,t)];case 2:return[2,o.sent()]}}))}))},this.put=function(e,n){return r(t,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t={body:JSON.stringify(n),method:"PUT",url:this.getBaseUrl()+e,headers:this.getDefaultHeaders()},[4,i.default(t.url,t)];case 1:return r=o.sent(),[4,this.parseResponse(r,t)];case 2:return[2,o.sent()]}}))}))},this.post=function(e,n){return r(t,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t={body:JSON.stringify(n),method:"POST",url:this.getBaseUrl()+e,headers:this.getDefaultHeaders()},[4,i.default(t.url,t)];case 1:return r=o.sent(),[4,this.parseResponse(r,t)];case 2:return[2,o.sent()]}}))}))},this.get=function(e,n){return r(t,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t={method:"GET",url:this.getBaseUrl()+e+"?"+a.stringify(n),headers:this.getDefaultHeaders()},[4,i.default(t.url,t)];case 1:return r=o.sent(),[4,this.parseResponse(r,t)];case 2:return[2,o.sent()]}}))}))},this.parseResponse=function(e,n){return r(t,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return 200!==e.status?[3,1]:[2,e.json()];case 1:return t=void 0,(t=401===e.status?new s.ScreenMeetAPIError("Your session has expired or you have signed out in another window"):new s.ScreenMeetAPIError("HTTP "+e.status+" "+e.statusText+" while making API request")).response=e,r=t,[4,e.text()];case 2:throw r.body=o.sent(),t.options=n,t}}))}))},e&&this.setKey(e)};t.ScreenMeetAPI=u,e.exports={ScreenMeetAPI:u}},282:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenMeetAPIError=void 0;var o=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(Error);t.ScreenMeetAPIError=o},341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(611),o=n(608);e.exports={ScreenMeet:r.ScreenMeet,ScreenMeetAPI:o.ScreenMeetAPI}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(341)})();
//# sourceMappingURL=bundle.js.map